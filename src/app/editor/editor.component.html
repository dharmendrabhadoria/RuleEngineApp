
<form class="" [formGroup]="form">
 
<mat-card>
    <mat-card-title>
        Expression editor
        <div style="text-align:right;">
        <button class="button-close" (click)="onclose()" mat-button [mat-dialog-close]="true">X</button>
       </div>
    </mat-card-title>
    <!-- <input #myinput1 type="text" class="form-control"
    
    (input)="onInput(myinput1)"> -->

    <mat-card-content style="margin:0px;">
        <mat-form-field style="width:100%;" class="example-full-width" appearance="fill">
            <textarea matInput #myinput [(ngModel)]="expression" (ngModelChange)="modelChangeFn($event)"  formControlName="expression">{{expression}}</textarea>
         
          </mat-form-field>
    </mat-card-content>
    <span>
      <ng-container *ngFor="let op of Operators">
        <label (click)="OpClick(myinput,op)" class="lb">{{op}}</label>
      </ng-container>
      
    </span>
    <div class="container">
        <div class="row">
          <div class="col-sm">
            <mat-card class="card">
                  <mat-nav-list>
                    <ng-container *ngFor="let op of Operations" class="example-item">
                        <a mat-list-item href="javascript:void(0)" (click)="OprClick(op.FunType)"> {{op.FunType}} </a> 
                    </ng-container>
                </mat-nav-list>
            </mat-card>
          </div>
          <div class="col-sm">
            <mat-card class="card">
                    <mat-nav-list >
                        <cdk-virtual-scroll-viewport itemSize="50" class="example-viewport">
                        <ng-container *ngFor="let link of fields" class="example-item">
                            <a mat-list-item href="javascript:void(0)" (dblclick)="doubleClick(myinput,link.Name)" > {{ link.Name }} </a>
                        </ng-container>
                    </cdk-virtual-scroll-viewport>
                    </mat-nav-list>
            </mat-card>
          </div>
          <div class="col-sm">
            <mat-card class="card">
                <label >content of field</label>
            </mat-card>
          </div>
          <!-- <input type="button" value="Save Formula" (click)="SaveFormula()"> -->
          <button mat-button (click)="SaveFormula()" style="background-color:#005fa0;color: white;">SaveFormula</button>
                    
        </div>
      </div> 
</mat-card>
</form>

<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content1">
    <span class="close" (click)="Close()">x</span>
    <div class="modal-header" >
      <h4  id="modal-basic-title" >Open List</h4>
    </div>
    <div class="modal-body scrollinfo" id="dvid">

      <table class="table table-bordered">
        <thead>
          <tr>
            <th *ngFor="let head of items[0] | keys">{{ head }}</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of items">
            <td *ngFor="let list of item  | keys;let i=index;">{{ item[list] }}</td>
          </tr>
        </tbody>
      </table>
    
        <!-- <table class="table table-bordered">
          <thead>
            <tr >

              <td *ngFor="let vas of TableColumnsName; let i=index;">
              
                {{this.TableColumnsName[i].COLUMN_NAME}}
              </td>

              
            </tr>
          </thead>
          <tbody>

            <tr *ngFor="let rowData of TableColumnsName;let i=index;">
              <td *ngFor="let el of TableData;let j=index;">{{el[j][i]}}</td>
          </tr>
          
          </tbody>
        </table> -->

      
    </div>
    <div class="modal-footer" >
      <button type="button" class="btn btn-danger" data-bs-dismiss="modal" >Add</button>

      <button type="button" class="btn btn-info"  (click)="Close()">Cancel</button>
    </div>
  </div>

</div>